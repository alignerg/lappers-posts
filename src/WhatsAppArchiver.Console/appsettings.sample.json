{
  // ====================================================================================
  // WhatsApp Archiver Configuration Template
  // ====================================================================================
  // This is a sample configuration file. Copy this file to 'appsettings.json' and
  // replace the placeholder values with your actual configuration.
  //
  // INSTRUCTIONS:
  // 1. Copy this file: cp appsettings.sample.json appsettings.json
  // 2. Replace all "<PLACEHOLDER>" values with your actual settings
  // 3. Adjust paths to match your environment (Windows or Linux/macOS)
  // 4. Review and customize logging and retry policy settings as needed
  // ====================================================================================
  
  "WhatsAppArchiver": {
    "GoogleServiceAccount": {
      // *** REQUIRED ***
      // Path to your Google service account credentials JSON file.
      //
      // How to obtain credentials:
      // 1. Go to Google Cloud Console: https://console.cloud.google.com
      // 2. Create or select a project
      // 3. Enable the Google Docs API
      // 4. Create a service account and download the JSON key file
      //
      // Supports both absolute and relative paths:
      // - Absolute: "/home/user/credentials/service-account.json" (Linux/macOS)
      // - Absolute: "C:\\Users\\user\\credentials\\service-account.json" (Windows)
      // - Relative: "./credentials/google-service-account.json" (from app directory)
      "CredentialsPath": "<PATH_TO_YOUR_GOOGLE_SERVICE_ACCOUNT_JSON>"
    },
    
    "StateRepository": {
      // Default base directory for state files when neither --state-file nor --state-dir is specified via command-line options.
      // This setting is used when neither --state-file nor --state-dir is specified.
      //
      // State files track which messages have been processed to enable resumable operations.
      // Filenames are automatically generated based on document ID and sender filter.
      //
      // Examples:
      // - "./state" (relative path from app directory)
      // - "~/docs/lappers/state" (Linux/macOS with tilde expansion)
      // - "C:\\Users\\user\\Documents\\state" (Windows)
      //
      // Note: This can be overridden per-execution using:
      // - --state-file /path/to/dir/file.json (uses /path/to/dir/, ignores filename)
      // - --state-dir /path/to/directory (uses directory directly)
      "BasePath": "<PATH_TO_STATE_DIRECTORY>"
    },
    
    // Default message formatter for chat messages.
    // Determines how messages are formatted when uploaded to Google Docs.
    //
    // Valid values:
    // - "default": [{timestamp}] {sender}: {content}
    //              Standard format with timestamp, sender, and message content
    //
    // - "compact": {sender}: {content}
    //              Minimal format without timestamps (space-saving)
    //
    // - "verbose": Detailed format with full date/time and sender metadata
    //              Includes complete timestamp information and additional context
    //
    // You can override this per-command execution if needed.
    "DefaultFormatter": "default",
    
    "Logging": {
      // Minimum log level to capture.
      // Valid values (in order of verbosity):
      // - Trace: Most verbose, includes all internal operations
      // - Debug: Detailed information for debugging
      // - Information: General informational messages (recommended for production)
      // - Warning: Warning messages for potentially harmful situations
      // - Error: Error messages for failures that allow the app to continue
      // - Critical: Critical failures that require immediate attention
      "MinimumLevel": "Information",
      
      // Path where log files should be written.
      // The application will create the directory if it doesn't exist.
      // Log files will be rotated and old files cleaned up based on RetentionDays.
      //
      // Examples:
      // - "./logs/whatsapp-archiver.log" (relative path)
      // - "/var/log/whatsapp-archiver/app.log" (Linux)
      // - "C:\\Logs\\WhatsAppArchiver\\app.log" (Windows)
      "FilePath": "<PATH_TO_LOG_FILE>",
      
      // Number of days to retain log files before automatic deletion.
      // - Set to 30 for monthly retention (recommended)
      // - Set to 7 for weekly retention
      // - Set to 0 to disable automatic cleanup (not recommended - disk space will grow)
      "RetentionDays": 30
    },
    
    "RetryPolicies": {
      // Maximum number of retry attempts for transient failures.
      // Applies to operations that may fail temporarily, such as:
      // - Network requests to Google APIs
      // - File I/O operations
      // - Temporary resource unavailability
      //
      // Recommended value: 3
      // - 0: No retries (fail immediately on first error)
      // - 1-5: Reasonable range for most scenarios
      // - >5: May cause excessive delays; investigate root cause instead
      "MaxAttempts": 3,
      
      // Backoff delay in seconds for each retry attempt.
      // Uses exponential backoff strategy to avoid overwhelming services.
      //
      // Array format: [delay_for_1st_retry, delay_for_2nd_retry, delay_for_3rd_retry, ...]
      // Example: [2, 4, 8] means:
      // - 1st retry: wait 2 seconds
      // - 2nd retry: wait 4 seconds
      // - 3rd retry: wait 8 seconds
      //
      // Adjust based on your use case:
      // - Faster retries: [1, 2, 4] for time-sensitive operations
      // - Conservative: [5, 10, 20] for rate-limited APIs
      "BackoffDelaySeconds": [2, 4, 8]
    }
  },
  
  // ====================================================================================
  // Serilog Configuration
  // ====================================================================================
  // Structured logging framework configuration.
  // This section is used by Serilog for advanced logging features.
  //
  // For more information: https://github.com/serilog/serilog
  // ====================================================================================
  "Serilog": {
    "MinimumLevel": {
      // Default minimum level for all log sources
      "Default": "Information",
      
      // Override minimum levels for specific namespaces
      // This reduces noise from verbose framework logging
      "Override": {
        "Microsoft": "Warning",    // Microsoft framework logging
        "System": "Warning"         // System libraries logging
      }
    },
    
    // Log output destinations (sinks)
    "WriteTo": [
      {
        // Console output configuration
        "Name": "Console",
        "Args": {
          // Output template for console logs
          // Format: [HH:mm:ss LEVEL] Message
          // You can customize this template as needed
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj}{NewLine}{Exception}"
        }
      }
      
      // Additional sinks can be added here, such as:
      // - File sink (for file-based logging)
      // - Seq sink (for centralized log server)
      // - Application Insights sink (for Azure monitoring)
      // See Serilog documentation for available sinks
    ]
  }
}
